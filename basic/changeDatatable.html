<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var result = {
        "msg": "",
        "code": 1,
        "resultObj": {
            "data": [
                {
                    "content": {
                        "c129_gFa66SpH": [
                            "c177_Mr5-cXeD",
                            "c177_Sl4QD7wu",
                            "c177_tQVRK-gg"
                        ],
                        "c129_I747YtFN": [
                            "c177_ioM4Wd8n"
                        ],
                        "c129_gLB5Fc-d": [
                            "c177_P7e0dXSG",
                            "c177_x2Dgjxfe"
                        ],
                        "c129_PoAjVrxj": [
                            "c177_4XUOLYLu",
                            "c177_UtXb5GoJ"
                        ],
                        "c129_ncB14MNI": [
                            "c177_CYNJsd14",
                            "c177_mgKmg__3",
                            "c177__ydPjIvZ"
                        ],
                        "c129_ljehtTey": [
                            "c177_tXZ4PU7I",
                            "c177_NWfSsG8E"
                        ],
                        "c129_JXVKzCKy": [
                            "c177_hKN9G0JJ",
                            "c177_9C6PyR1F"
                        ],
                        "c129_DosUyP2j": [
                            "c177_j_RAWE1b",
                            "c177_FQFX01XQ",
                            "c177_8ud5URXz",
                            "c177_ipzobKag"
                        ],
                        "c129_OpejNjzj": [
                            "c177_WG6C4mhB",
                            "c177_ufklyp4i",
                            "c177_uiCPExJh",
                            "c177_sI6AqzXZ",
                            "c177_iyKhvuyZ",
                            "c177_sU6Ob0TL",
                            "c177_MLltd4sd",
                            "c177_7_T05OXa",
                            "c177_wYdfomtl",
                            "c177_6ucKHirX"
                        ],
                        "c129_GaFIx5q4": [
                            "c177_3gREe9b-",
                            "c177_Ji1JR-SV",
                            "c177_cP4K5PtF",
                            "c177_w8TYBXE4",
                            "c177_BFGI1SZU",
                            "c177_h_AVrapR",
                            "c177_3_Evh1Xg"
                        ],
                        "c129_9BgVBoby": [
                            "c177_qHW577fP",
                            "c177_ibKLtrYt"
                        ]
                    },
                    "index": {
                        "c177_WG6C4mhB": {
                            "concept": "区",
                            "resource": "",
                            "name": "临安区",
                            "value": "",
                            "key": "c177_WG6C4mhB",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_Ji1JR-SV": {
                            "concept": "区",
                            "resource": "",
                            "name": "江北区",
                            "value": "",
                            "key": "c177_Ji1JR-SV",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_iyKhvuyZ": {
                            "concept": "区",
                            "resource": "",
                            "name": "萧山区",
                            "value": "",
                            "key": "c177_iyKhvuyZ",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_8ud5URXz": {
                            "concept": "区",
                            "resource": "",
                            "name": "洞头区",
                            "value": "",
                            "key": "c177_8ud5URXz",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_OpejNjzj": {
                            "concept": "市",
                            "resource": "",
                            "name": "杭州市",
                            "value": "",
                            "key": "c129_OpejNjzj",
                            "aka": "杭州",
                            "structure": ""
                        },
                        "c177_4XUOLYLu": {
                            "concept": "区",
                            "resource": "",
                            "name": "柯城区",
                            "value": "",
                            "key": "c177_4XUOLYLu",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_j_RAWE1b": {
                            "concept": "区",
                            "resource": "",
                            "name": "龙湾区",
                            "value": "",
                            "key": "c177_j_RAWE1b",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_h_AVrapR": {
                            "concept": "区",
                            "resource": "",
                            "name": "镇海区",
                            "value": "",
                            "key": "c177_h_AVrapR",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_6ucKHirX": {
                            "concept": "区",
                            "resource": "",
                            "name": "余杭区",
                            "value": "",
                            "key": "c177_6ucKHirX",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_Sl4QD7wu": {
                            "concept": "区",
                            "resource": "",
                            "name": "椒江区",
                            "value": "",
                            "key": "c177_Sl4QD7wu",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_9BgVBoby": {
                            "concept": "市",
                            "resource": "",
                            "name": "金华市",
                            "value": "",
                            "key": "c129_9BgVBoby",
                            "aka": "金华",
                            "structure": ""
                        },
                        "c177_ioM4Wd8n": {
                            "concept": "区",
                            "resource": "",
                            "name": "莲都区",
                            "value": "",
                            "key": "c177_ioM4Wd8n",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_FQFX01XQ": {
                            "concept": "区",
                            "resource": "",
                            "name": "瓯海区",
                            "value": "",
                            "key": "c177_FQFX01XQ",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_DosUyP2j": {
                            "concept": "市",
                            "resource": "",
                            "name": "温州市",
                            "value": "",
                            "key": "c129_DosUyP2j",
                            "aka": "温州",
                            "structure": ""
                        },
                        "c177_sI6AqzXZ": {
                            "concept": "区",
                            "resource": "",
                            "name": "拱墅区",
                            "value": "",
                            "key": "c177_sI6AqzXZ",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_9C6PyR1F": {
                            "concept": "区",
                            "resource": "",
                            "name": "南浔区",
                            "value": "",
                            "key": "c177_9C6PyR1F",
                            "aka": "",
                            "structure": ""
                        },
                        "c177__ydPjIvZ": {
                            "concept": "区",
                            "resource": "",
                            "name": "上虞区",
                            "value": "",
                            "key": "c177__ydPjIvZ",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_tXZ4PU7I": {
                            "concept": "区",
                            "resource": "",
                            "name": "定海区",
                            "value": "",
                            "key": "c177_tXZ4PU7I",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_7_T05OXa": {
                            "concept": "区",
                            "resource": "",
                            "name": "江干区",
                            "value": "",
                            "key": "c177_7_T05OXa",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_x2Dgjxfe": {
                            "concept": "区",
                            "resource": "",
                            "name": "秀洲区",
                            "value": "",
                            "key": "c177_x2Dgjxfe",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_hKN9G0JJ": {
                            "concept": "区",
                            "resource": "",
                            "name": "吴兴区",
                            "value": "",
                            "key": "c177_hKN9G0JJ",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_wYdfomtl": {
                            "concept": "区",
                            "resource": "",
                            "name": "西湖区",
                            "value": "",
                            "key": "c177_wYdfomtl",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_BFGI1SZU": {
                            "concept": "区",
                            "resource": "",
                            "name": "江东区",
                            "value": "",
                            "key": "c177_BFGI1SZU",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_CYNJsd14": {
                            "concept": "区",
                            "resource": "",
                            "name": "柯桥区",
                            "value": "",
                            "key": "c177_CYNJsd14",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_I747YtFN": {
                            "concept": "市",
                            "resource": "",
                            "name": "丽水市",
                            "value": "",
                            "key": "c129_I747YtFN",
                            "aka": "丽水",
                            "structure": ""
                        },
                        "c177_tQVRK-gg": {
                            "concept": "区",
                            "resource": "",
                            "name": "黄岩区",
                            "value": "",
                            "key": "c177_tQVRK-gg",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_3gREe9b-": {
                            "concept": "区",
                            "resource": "",
                            "name": "北仑区",
                            "value": "",
                            "key": "c177_3gREe9b-",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_gLB5Fc-d": {
                            "concept": "市",
                            "resource": "",
                            "name": "嘉兴市",
                            "value": "",
                            "key": "c129_gLB5Fc-d",
                            "aka": "嘉兴",
                            "structure": ""
                        },
                        "c177_cP4K5PtF": {
                            "concept": "区",
                            "resource": "",
                            "name": "鄞州区",
                            "value": "",
                            "key": "c177_cP4K5PtF",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_ipzobKag": {
                            "concept": "区",
                            "resource": "",
                            "name": "鹿城区",
                            "value": "",
                            "key": "c177_ipzobKag",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_JXVKzCKy": {
                            "concept": "市",
                            "resource": "",
                            "name": "湖州市",
                            "value": "",
                            "key": "c129_JXVKzCKy",
                            "aka": "湖州",
                            "structure": ""
                        },
                        "c177_sU6Ob0TL": {
                            "concept": "区",
                            "resource": "",
                            "name": "富阳区",
                            "value": "",
                            "key": "c177_sU6Ob0TL",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_3_Evh1Xg": {
                            "concept": "区",
                            "resource": "",
                            "name": "海曙区",
                            "value": "",
                            "key": "c177_3_Evh1Xg",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_UtXb5GoJ": {
                            "concept": "区",
                            "resource": "",
                            "name": "衢江区",
                            "value": "",
                            "key": "c177_UtXb5GoJ",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_gFa66SpH": {
                            "concept": "市",
                            "resource": "",
                            "name": "台州市",
                            "value": "",
                            "key": "c129_gFa66SpH",
                            "aka": "台州",
                            "structure": ""
                        },
                        "c177_Mr5-cXeD": {
                            "concept": "区",
                            "resource": "",
                            "name": "路桥区",
                            "value": "",
                            "key": "c177_Mr5-cXeD",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_uiCPExJh": {
                            "concept": "区",
                            "resource": "",
                            "name": "上城区",
                            "value": "",
                            "key": "c177_uiCPExJh",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_ncB14MNI": {
                            "concept": "市",
                            "resource": "",
                            "name": "绍兴市",
                            "value": "",
                            "key": "c129_ncB14MNI",
                            "aka": "绍兴",
                            "structure": ""
                        },
                        "c177_ibKLtrYt": {
                            "concept": "区",
                            "resource": "",
                            "name": "婺城区",
                            "value": "",
                            "key": "c177_ibKLtrYt",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_mgKmg__3": {
                            "concept": "区",
                            "resource": "",
                            "name": "越城区",
                            "value": "",
                            "key": "c177_mgKmg__3",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_PoAjVrxj": {
                            "concept": "市",
                            "resource": "",
                            "name": "衢州市",
                            "value": "",
                            "key": "c129_PoAjVrxj",
                            "aka": "衢州",
                            "structure": ""
                        },
                        "c177_MLltd4sd": {
                            "concept": "区",
                            "resource": "",
                            "name": "滨江区",
                            "value": "",
                            "key": "c177_MLltd4sd",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_qHW577fP": {
                            "concept": "区",
                            "resource": "",
                            "name": "金东区",
                            "value": "",
                            "key": "c177_qHW577fP",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_w8TYBXE4": {
                            "concept": "区",
                            "resource": "",
                            "name": "奉化区",
                            "value": "",
                            "key": "c177_w8TYBXE4",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_ufklyp4i": {
                            "concept": "区",
                            "resource": "",
                            "name": "下城区",
                            "value": "",
                            "key": "c177_ufklyp4i",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_ljehtTey": {
                            "concept": "市",
                            "resource": "",
                            "name": "舟山市",
                            "value": "",
                            "key": "c129_ljehtTey",
                            "aka": "舟山",
                            "structure": ""
                        },
                        "c177_P7e0dXSG": {
                            "concept": "区",
                            "resource": "",
                            "name": "南湖区",
                            "value": "",
                            "key": "c177_P7e0dXSG",
                            "aka": "",
                            "structure": ""
                        },
                        "c177_NWfSsG8E": {
                            "concept": "区",
                            "resource": "",
                            "name": "普陀区",
                            "value": "",
                            "key": "c177_NWfSsG8E",
                            "aka": "",
                            "structure": ""
                        },
                        "c129_GaFIx5q4": {
                            "concept": "市",
                            "resource": "",
                            "name": "宁波市",
                            "value": "",
                            "key": "c129_GaFIx5q4",
                            "aka": "宁波",
                            "structure": ""
                        }
                    },
                    "predicator": "映射<市,列表<区>>",
                    "fronttype": "映射,文字#市,列表文字#区",
                    "feaction": null
                }
            ],
            "direction": "B",
            "user_id": 2,
            "ctime": 1524895027557,
            "order": "#R"
        }
    }
    var newData = changeDataType(result);

    function changeDataType(json) {
        var opt = {};//创建新的返回处理后的数据
        var optData = [];//创建用于接收负责类型的data数据
        var jsonData = json.resultObj.data;
        jsonData.forEach(function (value) {
            var minopt = {}//类似于单个data中的对象
            if (!value.fronttype) {
                minopt.content = value.content;
            } else {
                if (typeof value.content == "string") {
                    var returnContent = '';//用于存储类型是字符串的返回类型
                    for (var key in value.index) {
                        if (key == value.content) {
                            if (value.index[key].name) {
                                returnContent = value.index[key].name
                            } else if (value.index[key].structure) {
                                returnContent = value.index[key].structure
                            } else if (value.index[key].value) {
                                returnContent = value.index[key].value
                            }
                        } else {
                            returnContent = key
                        }
                    }
                    minopt.content = returnContent;
                } else if (value.content instanceof Array) {//列表的情况
                    var arrdata = []//存储搜索到的所有有关的值
                    value.content.forEach(function (arr) {
                        for (var key in value.index) {
                            if (arr == key) {
                                if (value.index[key].name) {
                                    arrdata.push(value.index[key].name)
                                } else if (value.index[key].structure) {
                                    arrdata.push(value.index[key].structure)
                                } else if (value.index[key].value) {
                                    arrdata.push(value.index[key].value)
                                }
                            }
                        }
                    })
                    minopt.content = arrdata;
                } else if (value.content instanceof Object) {
                    var keyName = [];//用来存储键名
                    var keyValue = [];//存储键值
                    for (var key in value.content) {
                        var minarr = [];//存储类型是数组的类型的数值
                        var minstr = "";//存储类型是字符串类型的数值
                        for (var indexkey in value.index) {
                            if (key == indexkey) {
                                if (value.index[indexkey].name) {
                                    keyName.push(value.index[indexkey].name)
                                } else if (value.index[indexkey].structure) {
                                    keyName.push(value.index[indexkey].structure)
                                } else if (value.index[indexkey].value) {
                                    value.index[indexkey].value
                                }
                            }
                        }
                        if (value.content[key] instanceof Array) {
                            value.content[key].forEach(function (v) {
                                for (var indexkey in value.index) {
                                    if (v == indexkey) {
                                        if (value.index[indexkey].name) {
                                            minarr.push(value.index[indexkey].name)
                                        } else if (value.index[indexkey].structure) {
                                            minarr.push(value.index[indexkey].structure)
                                        } else if (value.index[indexkey].value) {
                                            minarr.push(value.index[indexkey].value)
                                        }
                                    }
                                }
                            })
                            keyValue.push(minarr);
                        } else {
                            for (var indexkey in value.index) {
                                if (value.content[key] == indexkey) {
                                    if (value.index[indexkey].name) {
                                        minstr = value.index[indexkey].name
                                    } else if (value.index[indexkey].structure) {
                                        minstr = value.index[indexkey].structure
                                    } else if (value.index[indexkey].value) {
                                        minstr = value.index[indexkey].value
                                    }
                                }
                            }
                            keyValue.push(minstr);
                        }

                    }
                    var newContentValue = {};//存储拼接content的内容
                    for (var i = 0; i < keyName.length; i++) {
                        newContentValue[keyName[i]] = keyValue[i]
                    }
                    minopt.content = newContentValue;
                }
            }

            minopt.fronttype = value.fronttype;
            minopt.index = value.index;
            minopt.predicator = value.predicator
            minopt.feaction = value.feaction;
            optData.push(minopt)
        })
        opt.resultObj = {}
        opt.resultObj.data = optData;
        opt.resultObj.ctime = json.resultObj.ctime;
        opt.resultObj.direction = json.resultObj.direction;
        opt.resultObj.order = json.resultObj.order;
        opt.resultObj.user_id = json.resultObj.user_id
        opt.code = json.code;
        opt.msg = json.msg;
        return opt
    }
    var str = "西湖区";
    searchID(newData,str);
    function searchID(newData,str){
        var partData = newData.resultObj.data;
        var returnID = "";
        partData.forEach(function(partVal,index){
            var searchIndex = partVal.index;
            for(var i in searchIndex){
                if(str == searchIndex[i].structure){
                    returnID = searchIndex[i].key
                }else if(str == searchIndex[i].value){
                    returnID = searchIndex[i].key
                }else if(str == searchIndex[i].name){
                    returnID = searchIndex[i].key
                }
            }
        })
        return returnID
    }
</script>

</body>
</html>